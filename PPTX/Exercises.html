<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><!--This file was converted to xhtml by LibreOffice - see http://cgit.freedesktop.org/libreoffice/core/tree/filter/source/xslt for the code.--><head profile="http://dublincore.org/documents/dcmi-terms/"><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8"/><title xml:lang="en-GB">- no title specified</title><meta name="DCTERMS.title" content="" xml:lang="en-GB"/><meta name="DCTERMS.language" content="en-GB" scheme="DCTERMS.RFC4646"/><meta name="DCTERMS.source" content="http://xml.openoffice.org/odf2xhtml"/><meta name="DCTERMS.creator" content="User"/><meta name="DCTERMS.issued" content="2017-04-19T10:33:00" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.modified" content="2017-05-15T09:53:43.457398752" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.provenance" content="" xml:lang="en-GB"/><meta name="DCTERMS.subject" content="," xml:lang="en-GB"/><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" hreflang="en"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" hreflang="en"/><link rel="schema.DCTYPE" href="http://purl.org/dc/dcmitype/" hreflang="en"/><link rel="schema.DCAM" href="http://purl.org/dc/dcam/" hreflang="en"/><style type="text/css">
	@page {  }
	table { border-collapse:collapse; border-spacing:0; empty-cells:show }
	td, th { vertical-align:top; font-size:12pt;}
	h1, h2, h3, h4, h5, h6 { clear:both }
	ol, ul { margin:0; padding:0;}
	li { list-style: none; margin:0; padding:0;}
	<!-- "li span.odfLiEnd" - IE 7 issue-->
	li span. { clear: both; line-height:0; width:0; height:0; margin:0; padding:0; }
	span.footnodeNumber { padding-right:1em; }
	span.annotation_style_by_filter { font-size:95%; font-family:Arial; background-color:#fff000;  margin:0; border:0; padding:0;  }
	* { margin:0;}
	.Heading_20_1 { color:#2e74b5; font-size:16pt; line-height:108%; margin-bottom:0cm; margin-top:0.423cm; text-align:left ! important; font-family:Calibri Light; writing-mode:lr-tb; }
	.Heading_20_2 { color:#00000a; font-size:14pt; line-height:108%; margin-bottom:0.212cm; margin-top:0.423cm; text-align:left ! important; font-family:Liberation Sans; writing-mode:lr-tb; }
	.P1 { color:#00000a; font-size:11pt; line-height:108%; margin-bottom:0.282cm; margin-top:0cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; }
	.P10 { color:#00000a; font-size:11pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; }
	.P11 { color:#00000a; font-size:11pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; }
	.P12 { color:#00000a; font-size:11pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; }
	.P13 { color:#00000a; font-size:11pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; }
	.P14 { color:#00000a; font-size:11pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; }
	.P15 { color:#00000a; font-size:11pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; margin-left:1.27cm; margin-right:0cm; text-indent:0cm; }
	.P16 { color:#2e74b5; font-size:16pt; line-height:108%; margin-bottom:0cm; margin-top:0.423cm; text-align:left ! important; font-family:Calibri Light; writing-mode:lr-tb; }
	.P17 { color:#2e74b5; font-size:16pt; line-height:108%; margin-bottom:0cm; margin-top:0.423cm; text-align:left ! important; font-family:Calibri Light; writing-mode:lr-tb; }
	.P18 { color:#00000a; font-size:11pt; line-height:108%; margin-bottom:0cm; margin-top:0cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; }
	.P19_borderStart { color:#333333; font-size:13.5pt; line-height:108%; margin-top:0cm; text-align:left ! important; font-family:Consolas, Liberation Mono, Courier, monospace; writing-mode:lr-tb; letter-spacing:normal; font-style:normal; font-weight:normal; background-color:#ffffff; padding-bottom:0cm;  border-bottom-style:none; }
	.P19 { color:#333333; font-size:13.5pt; line-height:108%; text-align:left ! important; font-family:Consolas, Liberation Mono, Courier, monospace; writing-mode:lr-tb; letter-spacing:normal; font-style:normal; font-weight:normal; background-color:#ffffff; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P19_borderEnd { color:#333333; font-size:13.5pt; line-height:108%; margin-bottom:0cm; text-align:left ! important; font-family:Consolas, Liberation Mono, Courier, monospace; writing-mode:lr-tb; letter-spacing:normal; font-style:normal; font-weight:normal; background-color:#ffffff; padding-top:0cm;  border-top-style:none;}
	.P2 { color:#00000a; font-size:11pt; line-height:108%; margin-bottom:0.282cm; margin-top:0cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; }
	.P3 { color:#00000a; font-size:11pt; line-height:108%; margin-bottom:0.282cm; margin-top:0cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; }
	.P4 { color:#00000a; font-size:11pt; line-height:108%; margin-bottom:0.282cm; margin-top:0cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; }
	.P5 { color:#00000a; font-size:11pt; line-height:108%; margin-bottom:0.282cm; margin-top:0cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; }
	.P6 { color:#00000a; font-size:11pt; line-height:108%; margin-bottom:0.282cm; margin-top:0cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; }
	.P7 { color:#00000a; font-size:11pt; line-height:108%; margin-bottom:0cm; margin-top:0.423cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; }
	.P8 { color:#00000a; font-size:11pt; line-height:108%; margin-bottom:0.282cm; margin-top:0cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; margin-left:-0.4cm; margin-right:0cm; text-indent:0cm; }
	.P9 { color:#00000a; font-size:11pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; }
	.Preformatted_20_Text { color:#00000a; font-size:11pt; line-height:108%; margin-bottom:0.282cm; margin-top:0cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; }
	.Standard { font-size:11pt; font-family:Calibri; writing-mode:lr-tb; margin-top:0cm; margin-bottom:0.282cm; line-height:108%; text-align:left ! important; color:#00000a; }
	.Text_20_body { color:#00000a; font-size:11pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; }
	.Internet_20_link { color:#000080; text-decoration:underline; }
	.Source_20_Text { font-family:Liberation Mono; }
	.T2 { color:#333333; font-family:Consolas, Liberation Mono, Courier, monospace; font-size:13.5pt; letter-spacing:normal; font-style:normal; font-weight:normal; background-color:#ffffff; }
	.T3 { color:#333333; font-family:Consolas, Liberation Mono, Courier, monospace; font-size:13.5pt; letter-spacing:normal; font-style:normal; font-weight:normal; background-color:#ffffff; }
	.T4 { color:#333333; letter-spacing:normal; background-color:#ffffff; }
	<!-- ODF styles with no properties representable as CSS -->
	.ListLabel_20_1 .ListLabel_20_10 .ListLabel_20_11 .ListLabel_20_12 .ListLabel_20_13 .ListLabel_20_14 .ListLabel_20_15 .ListLabel_20_16 .ListLabel_20_17 .ListLabel_20_18 .ListLabel_20_2 .ListLabel_20_3 .ListLabel_20_4 .ListLabel_20_5 .ListLabel_20_6 .ListLabel_20_7 .ListLabel_20_8 .ListLabel_20_9 .T1 .T5  { }
	</style></head><body dir="ltr" style="max-width:21.59cm;margin-top:2.54cm; margin-bottom:2.54cm; margin-left:2.54cm; margin-right:2.54cm; "><h1 class="P17"><a id="a__Membership_Application"><span/></a><span class="T1">Membership Application</span></h1><p class="P7"><span class="T1">Application manages member details and the products to which they subscribe</span></p><p class="P7"><span class="T1">Provides the following User Interfaces (UIs)</span></p><p class="P7"><span class="T1">1) Self-registration / detail editing for members</span></p><p class="P7"><span class="T1">2) End user facility to add / delete subscriptions</span></p><p class="P7"><span class="T1">3) Admin to allow the management of subscription products</span></p><p class="P7"><span class="T1">4) Payment UI</span></p><p class="P7"><span class="T1">Provides API’s </span></p><p class="P7"><span class="T1">1) Query if a particular member has a subscription</span></p><p class="P7"><span class="T1">2) List all members holding a subscription</span></p><p class="P7"><span class="T1">3) List all members</span></p><p class="P7"><span class="T1">4) List details for a member</span></p><p class="P7"><span class="T1">Has a time or event driven component which notifies users if subscriptions are due to expire</span></p><h1 class="Heading_20_1"><a id="a__Identifying_Microservices"><span/></a>Identifying Microservices</h1><p class="Standard">Using the application description *** as a starting point, define an initial (candidate) set of services for the application.</p><ol><li><p class="P1" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">1.</span>Define a domain – we’ve done that for you with the description. <span class="odfLiEnd"/> </p></li><li><p class="P1" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">2.</span>Examine the description and play “spot the noun” this should yield a list of all possible services<span class="odfLiEnd"/> </p></li><li><p class="P1" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">3.</span>Refine the list. You should consider:<span class="odfLiEnd"/> </p><ol><li><p class="P1" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">1.</span>Does each service map onto a real world concept?<span class="odfLiEnd"/> </p></li><li><p class="P1" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">2.</span>Is it likely that creating a service will provide a benefit to the system (in terms of flexibility or scalability)?<span class="odfLiEnd"/> </p></li></ol></li><li><p class="P1" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">4.</span>For each of the user / system interactions outlined in the description, consider if the services provide the capabilities needed.<span class="odfLiEnd"/> </p><ol><li><p class="P1" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">1.</span>Add any extra services identified to our system<span class="odfLiEnd"/> </p></li></ol></li></ol><p class="Standard"> </p><h1 class="Heading_20_1"><a id="a__Identifying_Service_Interfaces"><span/></a>Identifying Service Interfaces</h1><p class="Standard"> </p><p class="Heading_20_2">Objective</p><p class="Heading_20_2">Overview</p><p class="Heading_20_2">Detailed Steps</p><p class="Heading_20_2">In our version of the solution to the previous exercise, we have identified a member service. Examining the service, we have identified these use-case titles for the service</p><p class="Standard"> </p><p class="Standard">Add new member</p><p class="Standard">Update member details</p><p class="Standard">List members</p><p class="Standard">Get details of member</p><p class="P8"><span> Archive member</span></p><p class="P8"> </p><ol><li><p class="P6" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">1.</span>Examine the list of use-cases and decide<span class="odfLiEnd"/> </p><ol><li><p class="P6" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">1.</span>What operations the service should support<span class="odfLiEnd"/> </p></li><li><p class="P6" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">2.</span>What the request and response messages for those services should look like<span class="odfLiEnd"/> </p></li></ol></li></ol><p class="P5"> </p><p class="Heading_20_2">Bonus</p><p class="P8">Other parts of the system need to know that member details have been modified. Consider the operations you would need to support some form of publish / subscribe interface to support this notification.</p><h1 class="P16"><a id="a__Docker_Ex_1"><span/></a><span class="T1">Docker Ex 1</span></h1><p class="P2"> </p><p class="Standard"><span class="T1">Start a Docker machine from an image</span></p><p class="Standard"><span class="T1">Connect to it.</span></p><p class="Standard"><span class="T1">Start stop / explore</span></p><p class="Standard"><span class="T1">Then use Portainer:dmjrw</span></p><p class="P2"/><p class="Standard">sudo docker run -d -p 9000:9000 </p><p class="Standard"> -v /var/run/docker.sock:/var/run/docker.sock portainer/portainer</p><p class="P2"> </p><h1 class="Heading_20_1"><a id="a__Docker_Ex_2___Slide_101"><span/></a>Docker Ex 2 – Slide 101</h1><p class="Standard"> </p><p class="Heading_20_2">Objective</p><p class="Standard">In this exercise you will create a new docker image from a base container image. You will use the library/library httpd image.</p><ol><li><p class="P3" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">1)</span>Examine the documentation for the base image at <a href="https://hub.docker.com/_/httpd/" class="Internet_20_link"><span class="Internet_20_link">https://hub.docker.com/_/httpd/</span></a> <span class="odfLiEnd"/> </p></li><li><p class="P3" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">2)</span>Does the documentation explain how to configure a basic static HTML site?<span class="odfLiEnd"/> </p></li><li><p class="P3" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">3)</span>Create an empty directory. In the directory, create an empty file called Dockerfile and an empty directory called public-html<span class="odfLiEnd"/> </p></li><li><p class="P3" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">4)</span>In the public-html directory, create an index.html file with minimal content<span class="odfLiEnd"/> </p></li><li><p class="P3" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">5)</span>Using the dockerfile reference (<a href="https://docs.docker.com/engine/reference/builder/#from" class="Internet_20_link"><span class="Internet_20_link">https://docs.docker.com/engine/reference/builder/</span></a>) as a a guide<span class="odfLiEnd"/> </p><ol><li><p class="P3" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">1)</span>Add a FROM statement to the start of the dockerfile specifying that you want to use version 2.4 of the httpd image<span class="odfLiEnd"/> </p></li><li><p class="P3" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">2)</span>Add a statement to copy the public-html directory to /usr/local/apache2/htdocs/ on the image<span class="odfLiEnd"/> </p></li></ol></li><li><p class="P3" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">6)</span>Open a terminal to the directory holding your dockerfile<span class="odfLiEnd"/> </p></li><li><p class="P3" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">7)</span>Build the image with the command: <span class="Source_20_Text"><span class="T2">docker build -t httpd-exercise .</span></span><span class="odfLiEnd"/> </p></li><li><p class="P9" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">8)</span><span class="Source_20_Text">Run the image using </span><span class="odfLiEnd"/> </p></li></ol><p class="P15"><span class="Source_20_Text">docker run --name httpdemo -p 80:80 –rm  httpd-exercise</span></p><ol><li><p class="P9" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">9)</span><span class="Source_20_Text">Open a browser and go to localhost</span><span class="odfLiEnd"/> </p></li><li><p class="P9" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">10)</span><span class="Source_20_Text">You should see your HTML page</span><span class="odfLiEnd"/> </p></li></ol><p class="Text_20_body"><span class="Source_20_Text"/></p><p class="Text_20_body"><span class="Source_20_Text">BONUS</span></p><p class="Text_20_body"><span class="Source_20_Text"/></p><ol><li><p class="P10" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">1.</span><span class="Source_20_Text">Open a new terminal and run the command docker exec -it httpdemo bash</span><span class="odfLiEnd"/> </p></li><li><p class="P10" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">2.</span><span class="Source_20_Text">This opens a bash shell onto the  container</span><span class="odfLiEnd"/> </p></li><li><p class="P10" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">3.</span><span class="Source_20_Text">Use the shell to explore the container file system</span><span class="odfLiEnd"/> </p></li><li><p class="P10" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">4.</span><span class="Source_20_Text">Try and edit your index.html page with the nano editor (it’s in htdocs).</span><span class="odfLiEnd"/> </p><ol><li><p class="P10" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">1.</span><span class="Source_20_Text">Hint: nano index.html </span><span class="odfLiEnd"/> </p></li></ol></li></ol><ul><li><ul><li><p class="P11" style="margin-left:0cm;"><span class="ListLabel_20_2" style="display:block;float:left;min-width:0.635cm;">◦◦</span><span class="Source_20_Text">That did not work as nano is not installed!</span><span class="odfLiEnd"/> </p></li></ul></li></ul><ol><li><p class="P12" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">1.</span><span class="Source_20_Text">Stop the httpdemo container. You can do this through Portainer or with the command docker stop httpdemo</span><span class="odfLiEnd"/> </p></li><li><p class="P12" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">2.</span><span class="Source_20_Text">Modify the dockerfile to install nano by adding the RUN commands</span><span class="odfLiEnd"/> </p></li></ol><ul><li><ul><li><p class="P13" style="margin-left:0cm;"><span class="ListLabel_20_11" style="display:block;float:left;min-width:0.635cm;">◦◦</span><span class="Source_20_Text">RUN apt-get update</span><span class="odfLiEnd"/> </p></li><li><p class="P13" style="margin-left:0cm;"><span class="ListLabel_20_11" style="display:block;float:left;min-width:0.635cm;">◦◦</span><span class="Source_20_Text">RUN apt-get install -y nano</span><span class="odfLiEnd"/> </p></li></ul></li></ul><ol><li><p class="P14" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">1.</span><span class="Source_20_Text">Rebuild the container image</span><span class="odfLiEnd"/> </p></li><li><p class="P14" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">2.</span><span class="Source_20_Text">Run the image again</span><span class="odfLiEnd"/> </p></li><li><p class="P14" style="margin-left:0cm;"><span style="display:block;float:left;min-width:0.635cm;">3.</span><span class="Source_20_Text">Connect to the image with a bash shell and try to edit the index.html file. Change the message and then check the changes appear in your browser.</span><span class="odfLiEnd"/> </p></li></ol><p class="Text_20_body"><span class="Source_20_Text"/></p><p class="Text_20_body"><span class="Source_20_Text">======================================================================</span></p><p class="Text_20_body"><span class="Source_20_Text"><span class="T3">/*</span></span></p><p class="P18"><span class="Source_20_Text"><span class="T2">COPY ./public-html/ /usr/local/apache2/htdocs/</span></span></p><p class="P19"><span class="Source_20_Text"/></p><p class="P18"><span class="Source_20_Text"><span class="T2">Add a /public-html dir to the image with an index.html file</span></span></p><p class="P19"><span class="Source_20_Text"/></p><p class="P18"><span class="Source_20_Text"><span class="T2">docker build -t mjrw/httpd-ex .</span></span></p><p class="P19"><span class="Source_20_Text"/></p><p class="P18"><span class="Source_20_Text"><span class="T2">Docker docker run --name httpddemo -p 81:80 –rm mjrw/httpd-ex</span></span></p><p class="P19"><span class="Source_20_Text"/></p><p class="P18"><span class="Source_20_Text"><span class="T2">Run the image – map port to 80:80</span></span></p><p class="P18"><span class="Source_20_Text"><span class="T2">*/</span></span></p><p class="P19"><span class="Source_20_Text"/></p><p class="P18">docker exec -it sad_franklin /bin/bash</p><p class="P18"/><p class="P18">Explore</p><p class="P18"> </p><p class="P2"> </p><p class="Standard"> </p><p class="Standard"> </p><h1 class="Heading_20_1"><a id="a__Defining_a_Service_Interface_with_Swagger"><span/></a><span class="T5">Defining a Service Interface with </span>Swagger</h1><p class="Standard"> </p><p class="Standard">Create a service interface</p><p class="Standard">swagger.io</p><p class="Standard">Select tools / editor – online editor</p><p class="Standard">Create a swagger specification for a Member service</p><p class="Standard">Use the heoroku pet store as a template</p><p class="Standard">Methods</p><p class="Standard">get given and id returns an object representing a member</p><p class="Standard"><span> name</span></p><p class="Standard"><span> address</span></p><p class="Standard"><span> email</span></p><p class="Standard"> </p><p class="Standard">post adds a new member</p><p class="Standard"> </p><p class="Standard">put updates a member</p><p class="Standard"> </p><p class="Standard">delete deletes a member</p><p class="Standard"> </p><p class="Standard"> </p><h1 class="Heading_20_1"><a id="a__Mongo_DB"><span/></a>Mongo DB</h1><p class="Standard"> </p><p class="Standard"> </p><p class="Standard">docker run --name some-more-mongo -v /home/mjrw/Documents/BBC-Microservices/Resources:/mydata -d mongo</p><p class="Standard"> </p><p class="Standard">docker exec -it some-more-mongo bash</p><p class="Standard">use testdb</p><p class="Standard">foo = { name :"foo", location: { x: 3, y: 5 } }</p><p class="Standard">bar = { name : "bar", location: { x: 1, y: 2, z: 4 } }</p><p class="Standard">zep = { name : "zep", location: { x: -1, z: 4 } }</p><p class="Standard"> </p><p class="Standard">db.testdata.insert( foo )</p><p class="Standard">db.testdata.insert( bar )ul if eate</p><p class="Standard">db.testdata.insert( zep )</p><p class="Standard"> </p><p class="Standard">db.testdata.find()</p><p class="Standard"> </p><p class="Standard"> </p><p class="Standard">mongoimport --db dbsubs --collection subs --type csv --headerline --file /mydata/subscriptions.csv</p><p class="Standard">db.subs.find({"Member_Name" : /Michael.*/});</p><p class="Standard"> </p><p class="Standard">Do some sample queries (see 4500)</p><p class="Standard"> </p><p class="Standard">Give them a query to figure out</p><p class="Standard"> </p><p class="Standard">*** Integrate with Node?</p><p class="Standard"> </p><h1 class="Heading_20_1"><a id="a__CASSANDRA"><span/></a>CASSANDRA</h1><p class="Standard"> </p><p class="Preformatted_20_Text"><a id="__DdeLink__27_1674420362"/><span class="Source_20_Text"><span class="T2">docker run --name some-cassandra -v /home/mjrw/Documents/BBC-Microservices/Resources:/mydata </span></span><span class="Source_20_Text"><span class="T2">-d cassandra</span></span></p><p class="Standard">docker exec -it some-cassandra bash</p><p class="Standard">cqlsh</p><p class="Standard">(May have to wait for this to work and then retry)</p><p class="Standard">CREATE KEYSPACE subscriptions WITH REPLICATION = { 'class' :</p><p class="Standard">'NetworkTopologyStrategy', 'datacenter1' : 2 };</p><p class="Standard"> </p><p class="Standard">(Network replicated)</p><p class="Standard">use subscriptions;</p><p class="Standard">CREATE TABLE subscriptions ( id varchar, name varchar, member_id varchar, type varchar, renew boolean, startdate timestamp, enddate timestamp, PRIMARY KEY(id));</p><p class="Standard"> </p><p class="Standard">COPY crimedata (id , name , member_id , type , renew , startdate , enddate )</p><p class="Standard">FROM '/mydata/subscriptions.csv;</p><p class="Standard"> </p><p class="Standard">Neo4J</p><p class="Standard"> </p><p class="Preformatted_20_Text"><span class="Source_20_Text"><span class="T2">docker run \</span></span></p><p class="P18"><span class="Source_20_Text"><span class="T4">    </span></span><span class="Source_20_Text"><span class="T2">--publish=7474:7474 --publish=7687:7687 \</span></span></p><p class="P18"><span class="Source_20_Text"><span class="T4">    </span></span><span class="Source_20_Text"><span class="T2">--volume=$HOME/neo4j/data:/data \</span></span></p><p class="P18"><span class="Source_20_Text"><span class="T4">    </span></span><span class="Source_20_Text"><span class="T2">neo4j</span></span></p><p class="Standard"> </p><p class="Standard"> </p><p class="Standard">Connect to 7474:7474</p><p class="Standard">Run the code sample</p><p class="Standard"> </p><p class="Standard"> </p><p class="Standard"><span class="T1">Docker Swarm</span></p><p class="P2"> </p><p class="Standard"><span class="T1">Connect Swarm to AWS</span></p><p class="Standard"><span class="T1">(Use pre-created AWS role).</span></p><p class="Standard"><span class="T1">Create Swarm – show resources being created</span></p><p class="Standard"><span class="T1">Connect to the swarm</span></p><p class="Standard"><span class="T1">Deploy the Composition onto the Swarm</span></p><p class="Standard"><a id="_GoBack"/><span class="T1">** Connect to a node and see what’s started?</span></p><p class="P4">db.testdata.find()</p></body></html>